{"version":3,"sources":["components/App.module.css","components/Contacts/ContactsFilter.module.css","components/Form/Form.module.css","components/Section/Section.js","components/Form/Form.js","components/Contacts/Contacts.js","components/Contacts/ContactsFilter.js","components/Alert/Alert.js","actions/PhoneBook.js","constants/PhoneBook.js","components/App.js","reducers/PhoneBook.js","store.js","index.js"],"names":["module","exports","Section","title","children","className","CSSTransition","appear","in","timeout","classNames","Form","onSubmit","useState","name","number","formState","setFormState","handleChange","e","target","value","reset","styles","form","preventDefault","label","input","type","onChange","pattern","required","button","Contacts","contacts","onDelete","TransitionGroup","map","i","id","unmountOnExit","onClick","ContactsFilter","Alert","visible","error","addContact","createAction","removeContact","filterContact","setContacts","connect","state","items","phoneBook","filter","actions","setError","handleError","setTimeout","useEffect","axios","get","then","data","catch","message","wrapper","find","contact","post","generate","item","container","contactId","delete","Boolean","phoneBookReducer","createReducer","builder","addCase","Actions","action","payload","configureStore","reducer","console","log","store","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aa6c731a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__1BXIg\",\"form-container\":\"App_form-container__2q-H2\",\"container\":\"App_container__3TBlf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"ContactsFilter_label__3D-PB\",\"input\":\"ContactsFilter_input__3jvtv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__30TXX\",\"label\":\"Form_label__2MitP\",\"input\":\"Form_input__6GCuf\",\"button\":\"Form_button__2_Voh\"};","import { CSSTransition } from \"react-transition-group\";\nimport \"./styles.css\";\nexport default function Section({ title, children }) {\n  return (\n    <div className=\"container\">\n      <CSSTransition appear in timeout={500} classNames=\"title\">\n        <h2 className=\"title\">{title}</h2>\n      </CSSTransition>\n      {children}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport styles from \"./Form.module.css\";\n\nconst Form = ({ onSubmit }) => {\n  const [formState, setFormState] = useState({ name: \"\", number: \"\" });\n\n  const handleChange = (e) => {\n    setFormState({ ...formState, ...{ [e.target.name]: e.target.value } });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(formState);\n    reset();\n  };\n\n  const reset = () => {\n    setFormState({\n      name: \"\",\n      number: \"\",\n    });\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <label className={styles.label}>\n        Name\n        <input\n          className={styles.input}\n          type=\"text\"\n          name=\"name\"\n          value={formState.name}\n          onChange={handleChange}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n        />\n      </label>\n      <label className={styles.label}>\n        Number\n        <input\n          className={styles.input}\n          type=\"tel\"\n          name=\"number\"\n          value={formState.number}\n          onChange={handleChange}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          required\n        />\n      </label>\n      <button className={styles.button} type=\"submit\">\n        Add contact\n      </button>\n    </form>\n  );\n};\n\nexport default Form;\n","import PropTypes from \"prop-types\";\nimport \"./styles.css\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nconst Contacts = ({ contacts, onDelete }) => {\n  return (\n    <TransitionGroup className=\"list\">\n      {contacts.map(({ id, name, number }, i) => (\n        <CSSTransition key={i} timeout={500} classNames=\"item\" unmountOnExit>\n          <div className=\"item\" key={id}>\n            <p className=\"text\">{name} :</p>\n            <p className=\"text\">{number}</p>\n            <button className=\"button\" onClick={() => onDelete(id)}>\n              X\n            </button>\n          </div>\n        </CSSTransition>\n      ))}\n    </TransitionGroup>\n  );\n};\n\nContacts.propTypes = {\n  contacts: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n\nexport default Contacts;\n","import PropTypes from \"prop-types\";\nimport styles from \"./ContactsFilter.module.css\";\n\n\nconst ContactsFilter = ({ value, onChange }) => {\n  return (\n    <label className={styles.label}>\n      Find contacts by name\n      <input\n        className={styles.input}\n        type=\"text\"\n        value={value}\n        onChange={onChange}\n      />\n    </label>\n  );\n};\n\nContactsFilter.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default ContactsFilter;\n","import React from \"react\";\nimport \"./styles.css\";\nimport { CSSTransition } from \"react-transition-group\";\n\nconst Alert = ({ visible, error }) => {\n  return visible ? (\n    <CSSTransition appear in timeout={250} classNames=\"alert\">\n      <div className=\"alert\">{error}</div>\n    </CSSTransition>\n  ) : null;\n};\n\nexport default Alert;\n","import { createAction } from \"@reduxjs/toolkit\";\nimport * as PhoneBookActions from \"../constants/PhoneBook\";\n\nexport const addContact = createAction(PhoneBookActions.ADD_CONTACT);\nexport const removeContact = createAction(PhoneBookActions.REMOVE_CONTACT);\nexport const filterContact = createAction(PhoneBookActions.FILTER_CONTACT);\nexport const setContacts = createAction(PhoneBookActions.SET_CONTACTS);\n","export const SET_CONTACTS = \"SET_CONTACTS\";\nexport const ADD_CONTACT = \"ADD_CONTACT\";\nexport const REMOVE_CONTACT = \"REMOVE_CONTACT\";\nexport const FILTER_CONTACT = \"FILTER_CONTACTs\";\n","import React, { useState, useEffect } from \"react\";\nimport { generate } from \"shortid\";\nimport styles from \"./App.module.css\";\nimport Section from \"./Section\";\nimport Form from \"./Form\";\nimport Contacts from \"./Contacts\";\nimport ContactsFilter from \"./Contacts/ContactsFilter\";\nimport Alert from \"./Alert\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions/PhoneBook\";\nimport axios from \"axios\";\nconst App = ({\n  items,\n  filter,\n  addContact,\n  removeContact,\n  filterContact,\n  setContacts,\n}) => {\n  const [error, setError] = useState(\"\");\n\n  const handleError = (e) => {\n    setError(e);\n\n    setTimeout(() => {\n      setError(\"\");\n    }, 2000);\n  };\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:3002/contacts\")\n      .then(({ data }) => setContacts({ items: data }))\n      .catch((e) => handleError(e.message));\n  }, []);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:3002/contacts?name_like=\" + filter)\n      .then(({ data }) => setContacts({ items: data }))\n      .catch((e) => handleError(e.message));\n  }, [filter]);\n\n  const addNewContact = ({ name, number }) => {\n    const isAlreadyExist = items.find(\n      (contact) => contact.name === name || contact.number === number\n    );\n    if (isAlreadyExist) {\n      handleError(`${name} is already in contacts`);\n    } else {\n      axios\n        .post(\"http://localhost:3002/contacts\", {\n          id: generate(),\n          name,\n          number,\n        })\n        .then(({ data }) =>\n          addContact({\n            item: data,\n          })\n        )\n        .catch((e) => handleError(e.message));\n    }\n  };\n\n  const deleteContact = (contactId) => {\n    axios\n      .delete(\"http://localhost:3002/contacts/\" + contactId)\n      .then(() => removeContact({ id: contactId }))\n      .catch((e) => handleError(e.message));\n  };\n\n  const changeFilter = (e) => {\n    filterContact({ filter: e.target.value });\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles[\"form-container\"]}>\n        <Section title={\"Phonebook\"}>\n          <Form onSubmit={addNewContact} />\n        </Section>\n\n        <Section>\n          <div className={styles.container}>\n            <ContactsFilter value={filter} onChange={changeFilter} />\n            <Contacts contacts={items} onDelete={deleteContact} />\n          </div>\n        </Section>\n      </div>\n      <Alert visible={Boolean(error)} error={error} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  items: state.phoneBook.items,\n  filter: state.phoneBook.filter,\n});\n\nexport default connect(mapStateToProps, { ...actions })(App);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport * as Actions from \"../actions/PhoneBook\";\n\nconst initialState = {\n  items: [],\n  filter: \"\",\n};\n\nconst phoneBookReducer = createReducer(initialState, (builder) => {\n  builder\n    .addCase(Actions.addContact, (state, action) => {\n      state.items = [...state.items, action.payload.item];\n    })\n    .addCase(Actions.setContacts, (state, action) => {\n      state.items = [...action.payload.items];\n    })\n    .addCase(Actions.removeContact, (state, action) => {\n      state.items = [\n        ...state.items.filter((item) => item.id !== action.payload.id),\n      ];\n    })\n    .addCase(Actions.filterContact, (state, action) => {\n      state.filter = action.payload.filter;\n    });\n});\n\nexport default phoneBookReducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport phoneBookReducer from \"./reducers/PhoneBook\";\n\nexport default configureStore({\n  reducer: {\n    phoneBook: phoneBookReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport store from \"./store\";\nconsole.log(store);\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}